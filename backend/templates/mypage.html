<!DOCTYPE html>
<html lang="ko">
  <head>
    <link rel="stylesheet" href="../static/styled.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500&family=Lobster&family=Work+Sans:wght@300&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://kit.fontawesome.com/b9dd3be533.js"
      crossorigin="anonymous"
    ></script>
    <script src="assets/js/jquery-3.6.0.min.js"></script>
    <link
      rel="stylesheet"
      type="text/css"
      href="http://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"
    />
    <script
      type="text/javascript"
      src="http://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"
    ></script>

    <title>Airtravel999</title>
  </head>

  <body>
    <!-- S: HEADER -->
    <section class="mainpage-header">
      <div class="mainpage-nav">
        <h1 class="mainpage-logo"><a href="#">Airtravel</a></h1>
        <ul class="mainpage-utils">
          <li><a href="/" type="button" class="btn js-login">Home</a></li>
          <li>
            <a type="button" class="btn js-signup" onclick="userLogout()"
              >Logout</a
            >
          </li>
        </ul>
      </div>
    </section>
    <!-- E: HEADER -->

    <!-- S: VISUAL AREA -->
    <div class="visual-slider">
      <div class="slider-img slider-1"></div>
      <div class="slider-img slider-2"></div>
      <div class="slider-img slider-3"></div>
    </div>
    <!-- E: VISUAL AREA -->

    <!-- S: CONTENTS -->
    <div class="contents-wrap">
      <div class="posts-wrap">
        <!-- S: Post Elem -->
        {% for list in lists %}
        <div class="post">
          <div class="thumbnail">
            <img src="{{list.url}}"" alt="{{list.location}}">
          </div>
          <div class="post-desc">
            <strong class="post-location">{{list.title}}</strong>
            <span class="">{{list.location}}</span>
            <p class="post-detail ellipse">{{list.content}}</p>
          </div>
        </div>
        {% endfor %}
        <!-- E: Post Elem -->

        <!-- S: AddPost Elem -->
        <div class="post post_mypage">
          <a href="#sdfds" class="mypage-addpost js-addPost">
            <i class="add-icon fas fa-plus"></i>
          </a>
        </div>
        <!-- E: AddPost Elem -->
      </div>
    </div>
    <!-- E: CONTENTS -->

    <!-- S: FOOTER -->
    <footer class="footer">
      <div class="footer-wrap">
        <p>Copyright 2021. Hanghae99 Team13 All rights reserved.</p>
        <p>Pi Suyeon🌟, Jeon Sanghyuk🧛‍♂️ , Shin Kyungjune🚀, Kim Doeun🌜</p>
      </div>
    </footer>

    <!-- S: SCROLL-TOP -->
    <span class="scrolltop">
      <a href="#">맨 위로 이동</a>
    </span>

    <!-- S: 게시물 추가 모달 -->
    <div id="addPost" class="modal-bg">
      <!-- S: Modal Container -->
      <div class="modal-container">
        <!-- S: Modal Header -->
        <div class="modal-header">
          <h5 class="modal-title">Create Post</h5>
          <button type="button" class="btn-close">닫기</button>
        </div>

        <!-- S: Modal Body -->
        <div class="modal-body modal-addpost" style="padding-bottom: 30px">
          <div class="thumbnail-area">이미지 영역</div>
          <div class="form form-file js-form-file">
            <label for="input-file" class="input-file">파일 선택</label>
            <input id="input-file" type="file" required />
          </div>
          <p class="form__alert-msg">여행사진을 첨부해주세요!</p>
          <div class="options-wrap">
            <select name="" id="modal_location">
              <option value="" disabled selected>여행지</option>
              <option value="여행자1">여행지1</option>
              <option value="여행자2">여행지2</option>
              <option value="여행자3">여행지3</option>
            </select>
            <select name="" id="modal_continent">
              <option value="" disabled selected>대륙</option>
              <option value="대륙1">대륙1</option>
              <option value="대륙2">대륙2</option>
              <option value="대륙3">대륙3</option>
            </select>
            <select name="" id="modal_date">
              <option value="날짜" selected>날짜</option>
            </select>
          </div>
          <textarea name="" id="addPostTextarea" rows="10">
 내용을 입력하세요.</textarea
          >
        </div>

        <!-- S: Modal Footer -->
        <div class="modal-footer">
          <button class="btn btn-light">취소</button>
          <button onclick="test()" class="btn btn-primary formcheck">
            추가
          </button>
        </div>
      </div>
      <!-- E: Modal Container -->
    </div>
    <!-- E: 게시물 추가 모달 -->
    <script src="./assets/js/front_ui.js"></script>

    <!-- 추후 삭제할 것 -->
    <script>
      function test() {
        let userLocation = $("#modal_location").val();
        let userContinent = $("#modal_continent").val();
        let userDate = $("#modal_date").val();
        let userTextArea = $("#addPostTextarea").val();

        window.location.reload();

        console.log(userLocation, userContinent, userDate, userTextArea);
      }

      let mypage_post = $(".post").val();

      let temphtml = `<div class="mypage-createmodal-body">
                      <div class="mypage-createmodal">
                        <a href="#" class="icon">
                          <i class="far fa-plus-square js-addPost"></i>
                        </a>
                      </div>
                    </div>`;

      $(document).ready(function () {
        $(".post-wrap").prepend(temphtml);
      });

      //공통 form 검증 함수
      const empty__inputs = (inputs) =>
        inputs.map((item, idx) => {
          item.value.length === 0
            ? item.parentNode.classList.add("empty-input")
            : item.parentNode.classList.remove("empty-input");
        });

      //S:게시물 추가 모달
      const addPost = document.querySelector(".js-addPost");
      const addPost_background = document.querySelector("#addPost.modal-bg");
      const modal_closeAddPost = document.querySelector("#addPost .btn-close");
      const AddPost_formcheck = document.querySelector(
        "#loginModal .btn.formcheck"
      );

      addPost.addEventListener("click", () => {
        addPost_background.classList.toggle("show");
      });

      modal_closeAddPost.addEventListener("click", () => {
        addPost_background.classList.remove("show");
      });

      // AddPost_formcheck.addEventListener("click", () => {
      //const inputs = document.querySelectorAll(".modal-login .form  input");
      //empty__inputs(inputs);
      //});
    </script>
    <script type="text/javascript">
      $(".visual-slider").slick();

      // 로그아웃하기 로직
      function userLogout() {
        $.removeCookie("mytoken");
        window.location.replace("/");
      }
    </script>
  </body>
</html>
